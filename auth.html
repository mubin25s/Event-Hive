<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication | Event-Hive</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap');

        :root {
            /* Theme Colors - Solid Sophisticated Olive */
            --bg-dark: #121A1B;
            --bg-darker: #0d1213;
            --primary: #A7AA63;
            --accent: #EAE6D2;
            --text-main: #EAE6D2;
            --text-muted: #888870;
            --border: #2c3536;
        }

        * {
            box-sizing: border-box;
        }

        body {
            background: var(--bg-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Outfit', sans-serif;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* Main Container for the Sliding Effect */
        .container {
            background-color: var(--bg-darker);
            border-radius: 20px;
            box-shadow: 0 14px 28px rgba(0,0,0,0.25), 
                        0 10px 10px rgba(0,0,0,0.22);
            position: relative;
            overflow: hidden;
            width: 1000px; /* Wide container */
            max-width: 100%;
            min-height: 650px; /* Taller for registration fields */
            border: 1px solid var(--border);
        }

        /* Inner Form Containers */
        .form-container {
            position: absolute;
            top: 0;
            height: 100%;
            transition: all 0.6s ease-in-out;
            padding: 0 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: var(--bg-darker);
        }

        /* Sign Up Container (Initially Hidden/Behind) */
        .sign-up-container {
            left: 0;
            width: 50%;
            opacity: 0;
            z-index: 1;
        }

        /* Sign In Container (Initially Visible) */
        .sign-in-container {
            left: 0;
            width: 50%;
            z-index: 2;
        }

        /* Active State: Sign Up moves in */
        .container.right-panel-active .sign-in-container {
            transform: translateX(100%);
        }

        .container.right-panel-active .sign-up-container {
            transform: translateX(100%);
            opacity: 1;
            z-index: 5;
            animation: show 0.6s;
        }

        @keyframes show {
            0%, 49.99% {
                opacity: 0;
                z-index: 1;
            }
            50%, 100% {
                opacity: 1;
                z-index: 5;
            }
        }

        /* Overlay Container (The Moving Panel) */
        .overlay-container {
            position: absolute;
            top: 0;
            left: 50%;
            width: 50%;
            height: 100%;
            overflow: hidden;
            transition: transform 0.6s ease-in-out;
            z-index: 100;
        }

        .container.right-panel-active .overlay-container {
            transform: translateX(-100%);
        }

        /* The Overlay Background */
        .overlay {
            background: linear-gradient(135deg, var(--bg-dark), var(--primary)); /* Gradient Theme */
            background-repeat: no-repeat;
            background-size: cover;
            background-position: 0 0;
            color: #FFFFFF;
            position: relative;
            left: -100%;
            height: 100%;
            width: 200%;
            transform: translateX(0);
            transition: transform 0.6s ease-in-out;
        }

        .container.right-panel-active .overlay {
            transform: translateX(50%);
        }

        /* Overlay Text Panels */
        .overlay-panel {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0 40px;
            text-align: center;
            top: 0;
            height: 100%;
            width: 50%;
            transform: translateX(0);
            transition: transform 0.6s ease-in-out;
        }

        .overlay-left {
            transform: translateX(-20%);
        }

        .container.right-panel-active .overlay-left {
            transform: translateX(0);
        }

        .overlay-right {
            right: 0;
            transform: translateX(0);
        }

        .container.right-panel-active .overlay-right {
            transform: translateX(20%);
        }

        /* Typography & Elements */
        h1 {
            font-weight: 800;
            margin: 0;
            color: var(--text-main);
            margin-bottom: 0.5rem;
        }
        
        h1 span { color: var(--primary); }

        p {
            font-size: 14px;
            font-weight: 300;
            line-height: 20px;
            letter-spacing: 0.5px;
            margin: 10px 0 30px;
            color: var(--text-muted);
        }

        .overlay p { color: #fff; opacity: 0.9; }
        .overlay h1 { color: #fff; }

        span.text-small {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 15px;
        }

        a {
            color: var(--primary);
            text-decoration: none;
            margin: 15px 0;
            font-size: 14px;
        }

        button {
            border-radius: 20px;
            border: 1px solid var(--primary);
            background-color: var(--primary);
            color: var(--bg-darker);
            font-size: 12px;
            font-weight: bold;
            padding: 12px 45px;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: transform 80ms ease-in, background 0.2s;
            cursor: pointer;
            margin-top: 1rem;
        }

        button:active {
            transform: scale(0.95);
        }

        button:focus {
            outline: none;
        }

        button.ghost {
            background-color: transparent;
            border-color: #FFFFFF;
            color: #FFFFFF;
        }
        
        button.ghost:hover {
            background: rgba(255,255,255,0.1);
        }

        /* Form Inputs */
        form {
            background-color: var(--bg-darker);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0;
            height: 100%;
            width: 100%;
        }

        .input-group {
            width: 100%;
            margin-bottom: 0.75rem;
            text-align: left;
        }
        
        .input-group label {
            font-size: 0.8rem;
            margin-left: 0.5rem;
            color: var(--text-muted);
        }

        input, select {
            background-color: #182223;
            border: 1px solid var(--border);
            padding: 12px 15px;
            margin: 4px 0;
            width: 100%;
            border-radius: 8px;
            color: var(--text-main);
            outline: none;
            transition: 0.3s;
        }
        
        input:focus, select:focus {
            border-color: var(--primary);
        }

        /* Role Badge */
        .role-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(167, 170, 99, 0.1);
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid var(--border);
            z-index: 1000;
        }

        /* Scrollable container for reg form if needed */
        .scrollable-form {
            max-height: 400px;
            overflow-y: auto;
            width: 100%;
            padding-right: 5px;
        }
        
        /* Custom Scrollbar */
        .scrollable-form::-webkit-scrollbar { width: 5px; }
        .scrollable-form::-webkit-scrollbar-track { background: var(--bg-dark); }
        .scrollable-form::-webkit-scrollbar-thumb { background: var(--border); border-radius: 5px; }

    </style>
</head>
<body>

    <div class="container" id="container">
        <!-- Decoration Code Badge -->
        <div id="role-display" class="role-badge">
            <i class="fa-solid fa-user"></i> Loading...
        </div>

        <!-- SIGN UP CONTAINER (Left Panel Position, Hidden initially) -->
        <div class="form-container sign-up-container">
            <form onsubmit="handleRegister(event)">
                <h1>Create Account</h1>
                <p>Use your email for registration</p>
                
                <div class="scrollable-form">
                    <div class="input-group">
                        <input type="text" placeholder="Name" required />
                    </div>
                    <div class="input-group">
                        <input type="email" placeholder="Email" required />
                    </div>
                    <div class="input-group">
                        <input type="password" placeholder="Password" required />
                    </div>

                    <!-- Dynamic Role Fields -->
                    <div id="dynamic-fields-container" style="width: 100%;">
                        <!-- Vendor -->
                        <div id="vendor-fields" class="role-specific-fields" style="display:none; width:100%;">
                            <div class="input-group">
                                <select>
                                    <option>Venue</option>
                                    <option>Catering</option>
                                    <option>Decor</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <input type="text" placeholder="Business Name" />
                            </div>
                        </div>

                         <!-- Sponsor -->
                         <div id="sponsor-fields" class="role-specific-fields" style="display:none; width:100%;">
                            <div class="input-group">
                                <input type="text" placeholder="Company Name" />
                            </div>
                            <div class="input-group">
                                <select>
                                    <option selected disabled>Sponsorship Intent</option>
                                    <option>Monetary</option>
                                    <option>In-Kind</option>
                                </select>
                            </div>
                        </div>

                        <!-- Attendee -->
                         <div id="attendee-fields" class="role-specific-fields" style="display:none; width:100%;">
                            <div class="input-group">
                                <input type="tel" placeholder="Phone Number" />
                            </div>
                        </div>

                         <!-- Organizer -->
                         <div id="organizer-fields" class="role-specific-fields" style="display:none; width:100%;">
                            <div class="input-group">
                                <input type="text" placeholder="Organization (Optional)" />
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit">Sign Up</button>
            </form>
        </div>

        <!-- SIGN IN CONTAINER (Right Panel Position, Visible initially) -->
        <div class="form-container sign-in-container">
            <form onsubmit="handleLogin(event)">
                <h1>Sign in</h1>
                <p>Welcome back to <span>Event-Hive</span></p>
                
                <div class="input-group">
                    <input type="email" placeholder="Email" required />
                </div>
                <div class="input-group">
                    <input type="password" placeholder="Password" required />
                </div>
                
                <a href="#">Forgot your password?</a>
                <button type="submit">Sign In</button>
                
                <a href="index.html" style="margin-top: 2rem; color: var(--text-muted); font-size: 0.8rem;">
                    <i class="fa-solid fa-arrow-left"></i> Change Role
                </a>
            </form>
        </div>

        <!-- OVERLAY CONTAINER (The Moving Panel) -->
        <div class="overlay-container">
            <div class="overlay">
                <!-- Left Overlay (Visible when showing Sign Up) -->
                <div class="overlay-panel overlay-left">
                    <h1>Welcome Back!</h1>
                    <p>To keep connected with us please login with your personal info</p>
                    <button class="ghost" id="signIn">Sign In</button>
                </div>

                <!-- Right Overlay (Visible when showing Sign In) -->
                <div class="overlay-panel overlay-right">
                    <h1>Hello, Friend!</h1>
                    <p>Enter your personal details and start your journey with us</p>
                    <button class="ghost" id="signUp">Sign Up</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Animation Logic
        const container = document.getElementById('container');
        const signUpBtn = document.getElementById('signUp');
        const signInBtn = document.getElementById('signIn');

        signUpBtn.addEventListener('click', () => {
            container.classList.add("right-panel-active");
        });

        signInBtn.addEventListener('click', () => {
            container.classList.remove("right-panel-active");
        });

        // Role & Config Logic
        const urlParams = new URLSearchParams(window.location.search);
        const role = urlParams.get('role') || 'organizer';
        const roleDisplay = document.getElementById('role-display');

        const roleConfig = {
            'admin': { label: 'ADMINISTRATOR', icon: 'fa-shield-halved' },
            'user': { label: 'EVENT ORGANIZER', icon: 'fa-user-tie' },
            'vendor': { label: 'SERVICE VENDOR', icon: 'fa-store' },
            'employee': { label: 'STAFF EMPLOYEE', icon: 'fa-id-card' },
            'sponsor': { label: 'EVENT SPONSOR', icon: 'fa-handshake' },
            'guest': { label: 'EVENT GUEST', icon: 'fa-ticket' }
        };

        const config = roleConfig[role] || roleConfig['user']; 
        roleDisplay.innerHTML = `<i class="fa-solid ${config.icon}"></i> ${config.label}`;

        // Redirect to specific login pages based on role
        // Admin, Employee, Sponsor, Guest, and Vendor have dedicated pages
        if (role === 'admin') {
            window.location.href = 'admin-login.html';
        } else if (role === 'vendor') {
            window.location.href = 'vendor-login.html';
        } else if (role === 'employee') {
            window.location.href = 'employee-login.html';
        } else if (role === 'sponsor') {
            window.location.href = 'sponsor-login.html';
        } else if (role === 'guest') {
            window.location.href = 'guest-login.html';
        } else {
            // User/Organizer uses this page
            // Show specific fields
            document.querySelectorAll('.role-specific-fields').forEach(el => el.style.display = 'none');
            if (document.getElementById('organizer-fields')) {
                document.getElementById('organizer-fields').style.display = 'block';
            }
        }


        // Mock Login Handlers
        function handleLogin(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const original = btn.innerText;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>'; 
            
            setTimeout(() => {
                if (role === 'admin') window.location.href = 'admin.html';
                else if (role === 'vendor') window.location.href = 'vendor-dashboard.html';
                else if (role === 'attendee') window.location.href = 'guest-view.html';
                else if (role === 'staff') window.location.href = 'staff-dashboard.html';
                else if (role === 'sponsor') window.location.href = 'sponsor-dashboard.html';
                else window.location.href = 'dashboard.html';
            }, 1000);
        }

        function handleRegister(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
            
            setTimeout(() => {
                alert("Account Created!");
                container.classList.remove("right-panel-active"); // Slide back to login
                btn.innerHTML = 'Sign Up';
            }, 1500);
        }

        // Auto-switch to register if param exists
        if(urlParams.get('action') === 'register') {
             container.classList.add("right-panel-active");
        }
    </script>
</body>
</html>
